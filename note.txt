https://www.quicknode.com/guides/ethereum-development/smart-contracts/how-to-create-and-deploy-an-upgradeable-smart-contract-using-openzeppelin-and-hardhat

npm init -y
npx hardhat --init
	pilih hardhat3 -> mocha-ethers
npm i -D @nomicfoundation/hardhat-ethers @nomicfoundation/hardhat-verify
npm i @openzeppelin/contracts dotenv
npm install @openzeppelin/contracts-upgradeable

npx hardhat clean && npx hardhat compile

deploy:
npx hardhat ignition deploy ignition/modules/proxyDorz.ts --network localhost
npx hardhat ignition deploy ignition/modules/ProxyVesting.ts --network localhost

npx hardhat ignition deploy ignition/modules/dorz2.ts --network localhost

upgrade:
npx hardhat ignition deploy ignition/modules/upgradeDorz.ts --network localhost
npx hardhat ignition deploy ignition/modules/upgradeVesting.ts --network localhost

upgrade:
npx hardhat run scripts/upgradeDorz.ts --network localhost

deploy + upgrade: (change ProxyVesting2 to next number)
npx hardhat ignition deploy ignition/modules/upgradeVesting.ts --network localhost




Deployed Addresses



ProxyDorz#Dorz - 0x4ed7c70F96B99c776995fB64377f0d4aB3B0e1C1
ProxyDorz#TransparentUpgradeableProxy - 0x322813Fd9A801c5507c9de605d63CEA4f2CE6c44
ProxyDorz#ProxyAdmin - 0xF1823bc4243b40423b8C8c3F6174e687a4C690b8
DorzModule#Dorz - 0x322813Fd9A801c5507c9de605d63CEA4f2CE6c44

Dorz2Module#Dorz2 - 0x322813Fd9A801c5507c9de605d63CEA4f2CE6c44
ProxyDorz2#Dorz2 - 0x4A679253410272dd5232B3Ff7cF5dbB88f295319

ProxyVesting#Vesting - 0x09635F643e140090A9A8Dcd712eD6285858ceBef
ProxyVesting#TransparentUpgradeableProxy - 0xc5a5C42992dECbae36851359345FE25997F5C42d
ProxyVesting#ProxyAdmin - 0xf0D7de80A1C242fA3C738b083C422d65c6c7ABF1
VestingModule#Vesting - 0xc5a5C42992dECbae36851359345FE25997F5C42d